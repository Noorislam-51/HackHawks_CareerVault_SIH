<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>DocuVault (<%=student.basicDetails.fullName%>)
  </title>
  <link rel="stylesheet" href="/stylesheets/studentDashboard.css">
</head>

<body>
  <div class="container">


    <div class="profile-container">
      <!-- Header with gradient background -->
      <div class="profile-header-view">

      </div>

      <!-- Profile Content -->
      <div class="profile-content">
        <!-- Profile Top Section -->
        <div class="profile-top">
          <div class="avatar" id="avatar">JD</div>
          <div class="profile-info">
            <h1 class="profile-name" id="profile-name">
              <%= student.basicDetails.fullName %>
            </h1>
            <div class="profile-meta">
              <span># Roll No: <span id="profile-roll">
                  <%= student.studentId %>
                </span></span>
              <span>ğŸ‘ï¸ <span id="profile-college">
                  <%= student.collegeId%>
                </span></span>
            </div>
          </div>
        </div>

        <!-- Profile Details Grid -->
        <div class="profile-details">
          <!-- Left Column -->
          <div class="details-left">
            <div class="detail-item">
              <div class="detail-icon">ğŸ“</div>
              <div class="detail-content">
                <div class="detail-label">Course</div>
                <div class="detail-value" id="profile-course">
                  <%= student.basicDetails.course %>
                </div>
              </div>
            </div>

            <div class="detail-item">
              <div class="detail-icon">ğŸ“…</div>
              <div class="detail-content">
                <div class="detail-label">Year</div>
                <div class="detail-value" id="profile-year">
                  <%= student.basicDetails.year %>
                </div>
              </div>
            </div>

            <div class="detail-item">
              <div class="detail-icon">ğŸ“…</div>
              <div class="detail-content">
                <div class="detail-label">Date of Birth</div>
                <div class="detail-value" id="profile-dob">
                  <%= student.basicDetails.dob %>
                </div>
              </div>
            </div>
          </div>

          <!-- Right Column -->
          <div class="details-right">
            <div class="detail-item">
              <div class="detail-icon">âœ‰ï¸</div>
              <div class="detail-content">
                <div class="detail-label">Email</div>
                <div class="detail-value" id="profile-email">
                  <%= student.email %>
                </div>
              </div>
            </div>

            <div class="detail-item">
              <div class="detail-icon">ğŸ“</div>
              <div class="detail-content">
                <div class="detail-label">Contact</div>
                <div class="detail-value" id="profile-contact">
                  <%= student.contactNumber%>
                </div>
              </div>
            </div>

            <div class="detail-item">
              <div class="detail-icon">ğŸ“</div>
              <div class="detail-content">
                <div class="detail-label">Address</div>
                <div class="detail-value" id="profile-address">
                  <%= student.basicDetails.address %>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Skills Section -->
        <div class="skills-section">
          <h3 class="skills-title">Skills</h3>
          <div class="skills-container" id="profile-skills">
            <span class="skill-tag skill-javascript">JavaScript</span>
            <span class="skill-tag skill-react">React</span>
            <span class="skill-tag skill-python">Python</span>
            <span class="skill-tag skill-ml">Machine Learning</span>
            <span class="skill-tag skill-nodejs">Node.js</span>
          </div>
        </div>

        <!-- Action Buttons -->
        <div class="action-buttons">
          <button class="btn btn-primary">
            ğŸ“„ Resume Builder
          </button>
          <button class="btn btn-secondary">
            â¬‡ï¸ Download Resume
          </button>
        </div>
      </div>
    </div>


  </div>
  </div>

  <!-- Navigation Tabs -->
  <div class="tabs">
    <a href="#" class="tab active">ğŸ“„ Documents</a>
    <a href="#" class="tab">ğŸ¢ Internships</a>
    <a href="#" class="tab">ğŸ“… Attendance</a>
    <a href="#" class="tab">ğŸ“Š Marksheet</a>
    <a href="#" class="tab">ğŸ‘¥ Community</a>
  </div>



  <!-- Document Management Section -->
  <div class="document-section">
    <h2 class="section-title">Document Management</h2>
    <p class="section-subtitle">Organize and track your academic documents</p>

    <div class="document-grid">

      <!-- 1. Academic Achievements -->
      <div class="doc-card">
        <div class="view-icon" onclick="openPendingDocsModal('academic_achievements')">ğŸ‘ï¸</div>
        <!-- <div class="view-icon">ğŸ‘ï¸</div> -->
        <div class="doc-header">
          <div class="doc-icon academic">ğŸ“š</div>
          <div class="doc-title">Academic</div>
        </div>
        <div class="doc-stats"><span class="green">5</span><span class="yellow">2</span><span class="red">1</span></div>
        <div class="doc-subtypes"><span>Mark sheets, Degree, Merit, Research</span></div>

      </div>

      <!-- 2. Conferences & Workshops -->
      <div class="doc-card">
        <div class="view-icon" onclick="openPendingDocsModal('conferences_workshops')">ğŸ‘ï¸</div>
        <div class="doc-header">
          <div class="doc-icon conferences">ğŸ¤</div>
          <div class="doc-title">Conferences</div>
        </div>
        <div class="doc-stats"><span class="green">0</span><span class="yellow">0</span><span class="red">0</span></div>
        <div class="doc-subtypes"><span>Participation, Presentation, Attendance</span></div>
      </div>

      <!-- 3. Certifications Earned -->
      <div class="doc-card">
        <div class="view-icon" onclick="openPendingDocsModal('certifications_earned')">ğŸ‘ï¸</div>
        <div class="doc-header">
          <div class="doc-icon certificates">ğŸ†</div>
          <div class="doc-title">Certificates</div>
        </div>
        <div class="doc-stats"><span class="green">6</span><span class="yellow">1</span><span class="red">0</span></div>
        <div class="doc-subtypes"><span>Online, Industry, Skill</span></div>
      </div>

      <!-- 4. Club Activities & Volunteering -->
      <div class="doc-card">
        <div class="view-icon" onclick="openPendingDocsModal('club_activities_volunteering')">ğŸ‘ï¸</div>
        <div class="doc-header">
          <div class="doc-icon extracurricular">ğŸ¯</div>
          <div class="doc-title">Clubs & Volunteering</div>
        </div>
        <div class="doc-stats"><span class="green">2</span><span class="yellow">0</span><span class="red">1</span></div>
        <div class="doc-subtypes"><span>Participation, Volunteering, Letters</span></div>
      </div>

      <!-- 5. Competitions & Contests -->
      <div class="doc-card">
        <div class="view-icon" onclick="openPendingDocsModal('competitions_contests')">ğŸ‘ï¸</div>
        <div class="doc-header">
          <div class="doc-icon competitions">ğŸ…</div>
          <div class="doc-title">Competitions</div>
        </div>
        <div class="doc-stats"><span class="green">0</span><span class="yellow">0</span><span class="red">0</span></div>
        <div class="doc-subtypes"><span>Participation, Medals, News</span></div>
      </div>

      <!-- 6. Leadership Roles & Internships -->
      <div class="doc-card">
        <div class="view-icon" onclick="openPendingDocsModal('leadership_roles_internships')">ğŸ‘ï¸</div>
        <div class="doc-header">
          <div class="doc-icon internships">ğŸ¢</div>
          <div class="doc-title">Leadership & Internships</div>
        </div>
        <div class="doc-stats"><span class="green">3</span><span class="yellow">1</span><span class="red">0</span></div>
        <div class="doc-subtypes"><span>Appointments, Internships, Recommendations</span></div>
      </div>

      <!-- 7. Community Services -->
      <div class="doc-card">
        <div class="view-icon" onclick="openPendingDocsModal('community_services')">ğŸ‘ï¸</div>
        <div class="doc-header">
          <div class="doc-icon community">ğŸ¤</div>
          <div class="doc-title">Community</div>
        </div>
        <div class="doc-stats"><span class="green">0</span><span class="yellow">0</span><span class="red">0</span></div>
        <div class="doc-subtypes"><span>Certificates, Appreciation, Proofs</span></div>
      </div>

      <!-- 8. General Supporting Documents -->
      <div class="doc-card">
        <div class="view-icon" onclick="openPendingDocsModal('general_supporting_documents')">ğŸ‘ï¸</div>
        <div class="doc-header">
          <div class="doc-icon general">ğŸ—‚ï¸</div>
          <div class="doc-title">Supporting Docs</div>
        </div>
        <div class="doc-stats"><span class="green">0</span><span class="yellow">0</span><span class="red">0</span></div>
        <div class="doc-subtypes"><span>Resume, ID, Recommendation</span></div>
      </div>

    </div>

   


    <!-- Overview Statistics -->
    <div class="overview-stats">
      <div class="overview-stat">
        <div class="stat-value verified">16</div>
        <div class="stat-label">Verified Documents</div>
      </div>
      <div class="overview-stat">
        <div class="stat-value pending">
          <%= pendingCount %>
        </div>
        <div class="stat-label">Pending Review</div>
      </div>
      <div class="overview-stat">
        <div class="stat-value total">20</div>
        <div class="stat-label">Total Documents</div>
      </div>
    </div>
  </div>


  <!-- Pending Documents Modal -->
  <div class="pending-docs-overlay" id="pendingDocsModal">
    <div class="pending-docs-modal">
      <div class="pending-docs-header">
        <h2 class="pending-docs-title">Pending Documents</h2>
        <button class="pending-docs-close-btn" onclick="closePendingDocsModal()">Ã—</button>
      </div>

      <div class="pending-docs-container">
        <% if (!pendingDocs || pendingDocs.length===0) { %>
          <p class="pending-docs-no-docs">No pending documents.</p>
          <% } else { %>
            <% pendingDocs.map(doc=> { %>
              <div class="pending-doc-card">
                <div class="pending-doc-info">
                  <h3>
                    <%= doc.title %>
                  </h3>
                  <p>Type: <%= doc.type %>
                  </p>
                  <p>Uploaded: <%= new Date(doc.upload_date).toLocaleDateString() %>
                  </p>
                  <% if (doc.staff_comments) { %>
                    <p class="pending-doc-comments">Comments: <%= doc.staff_comments %>
                    </p>
                    <% } %>
                </div>
                <a href="<%= doc.file_url %>" target="_blank" class="pending-doc-view-btn">View</a>
              </div>
              <% }) %>
                <% } %>
      </div>
    </div>
  </div>



  <script>

    // Modal functions
    function openEditModal() {
      document.getElementById('editModal').style.display = 'block';
    }

    function closeEditModal() {
      document.getElementById('editModal').style.display = 'none';
    }

    // Close modal when clicking outside
    document.getElementById('editModal').addEventListener('click', function (e) {
      if (e.target === this) {
        closeEditModal();
      }
    });

    // Tab switching
    document.querySelectorAll('.tab').forEach(tab => {
      tab.addEventListener('click', function (e) {
        e.preventDefault();
        document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
        this.classList.add('active');
      });
    });

    // Button handlers
    document.querySelectorAll('.add-doc-btn').forEach(btn => {
      btn.addEventListener('click', () => alert('Add document clicked'));
    });

    document.querySelector('.btn-primary').addEventListener('click', () => alert('Resume builder clicked'));
    document.querySelector('.btn-secondary').addEventListener('click', () => alert('Download resume clicked'));
    function closePendingDocsModal() {
      document.getElementById("pendingDocsModal").style.display = "none";
    }

    function openPendingDocsModal() {
      document.getElementById("pendingDocsModal").style.display = "flex";
    }
    function openDocModal(category) {
      document.getElementById('docModal').style.display = 'block';
      document.getElementById('categoryInput').value = category;
    }

    function closeDocModal() {
      document.getElementById('docModal').style.display = 'none';
    }

    // Close modal when clicking outside
    document.getElementById('docModal').addEventListener('click', function (e) {
      if (e.target === this) {
        closeDocModal();
      }
    });
  </script>
</body>

</html>